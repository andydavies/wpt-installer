---
# File:    ansible/aws/group_vars/all
# Purpose: variable definitions for all aws ec2 instances

# The 'environment_' variable declarations are used to override defaults from the infra Ansible script
#  library server/group_vars/all file. The overrides are applied at the inventory level, rather than a
#  project level, to allow the targeting of various AWS EC2 instance environments which may have been
#  provisioned from different shapes of AMI templates. The 'environment_' variable declarations below
#  assume the target AWS EC2 instances have been provisioned from the stock Amazon Linux AMI, i.e.:
#   user = ec2-user
#   user home dir = /home/ec2-user
#
environment_user: "{{ ec2_user }}"
environment_group: "{{ environment_user }}"
environment_home: /home

# The 'environment_artifact_url' variable is used to override the standard infra Ansible script library
#  artifactory_url variable defined within the server/group_vars/all file, as there are no Artifactory
#  instances available in AWS for the hosting of infrastructure Ansible middleware binaries. Instead,
#  the infrastructure Ansible script library will look to an S3 bucket for its supporting middleware
#  binary files.
environment_artifact_url: "{{ artifact_url_override | default('https://s3-eu-west-1.amazonaws.com/cloud-artifacts') }}"

# These are not going to be here forever, it'll move once we get the inventory stuff sorted.
# application configuration
app_config_version: "{{ app_version }}"

app_config_import_logs:
  - DEBUG
  - ERROR

app_log_config:
  name: wbtNetwork
  min_log_level: debug_level
  file_handler:
    location: '"/var/log/wbtNetwork"'
    filename: "{{ app_name }}.log"
    max_size: 200000000
    backups: 5
    
app_graylog_handler:
  host: clog.prod.skyscanner.local
  port: 12201

# supervisor setup
supervisor_enable_web_interface: "true"
  
# cleanup - values here are applied globally, but could be set on a per-environment basis if required,
# i.e. more aggressive cleanup for int-ci / int-review environments versus pre-prod & prod
app_num_old_versions_to_keep: 5


